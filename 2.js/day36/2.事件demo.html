<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #span {
            display: none;
            color: red
        }
    </style>
</head>

<body>

    <input type="text" id="inp">
    <span id="span">您的内容不符合规则</span>


    <script>
        /*
         需求
           + 检测用户输入框里面是不是手机号
               + 内容不包含 0-9 之外的，如果有其他的需要用空字符串替换
               + 内容长度不能超过 11，超过的需要截取 11 位
               + 用过 keyCode=13检测 用户输入的手机号是否符合正则
        */
        let box = document.getElementById("inp")
        box.onkeyup = function (e) {
            let reg = /[^0-9]/g;
            this.value = this.value.replace(reg, "");//通过 this.value 获取输入框中的内容

            if (this.value.length > 11) {
                this.value = this.value.slice(0, 11)
            }

            if (e.keyCode == 13) {//回车键 
                let reg1 = /^1[3-9]\d{9}$/g;
                if (reg1.test(this.value)) {
                    span.style.display = 'none';
                    alert(this.value);
                }
                else {
                    span.style.display = 'block';
                    alert('当前输入的内容不符合手机号的规则');//alert会阻止下面代码运行
                }
            }

        }





    </script>























    </script>
</body>

</html>